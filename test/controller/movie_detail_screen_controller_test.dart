import 'package:flutter_test/flutter_test.dart';

void main() {
  // late MovieDetailScreenController controller;
  // late GetDetailMovie getDetailMovie;
  // late FavoritMovie favoriteMovie;
  // late MockMovieRepository mockRepository;

  setUp(() {
    // mockRepository = MockMovieRepository();
    // getDetailMovie = GetDetailMovie(mockRepository);
    // favoriteMovie = FavoritMovie(mockRepository);
    // controller = MovieDetailScreenController(getDetailMovie: getDetailMovie, favoriteMovie: favoriteMovie);
  });

  test('GIVEN api call success WHEN call usecase THEN should return movie detail with favorite state', () async {
    // TODO Argument cannot be injected in GetX4, and should be done in GetX5 then
    // WidgetsFlutterBinding.ensureInitialized();
    // Get.testMode = true;
    // final movieId = 1;
    // final title = 'Test Movie';
    // final movieDetails = DetailMovie(id: movieId, title: title);
    // final dummyResponse = Pair(movieDetails, false);
    // Get.to(() => Container(), arguments: MovieScreenArguments(id: movieId, title: title));

    // when(getDetailMovie.call(movieId)).thenAnswer((_) async => dummyResponse);
    // when(mockRepository.isMovieFavorite(id: movieId)).thenAnswer((_) => false);

    // controller.onInit();

    // expect(controller.detail, movieDetails);
    // verify(getDetailMovie.call(movieId)).called(1);
  });
}
